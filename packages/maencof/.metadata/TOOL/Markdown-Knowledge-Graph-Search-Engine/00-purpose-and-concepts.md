# 00. 목적과 핵심 개념

## 문제 정의

마크다운 기반 지식 저장소는 문서 수가 증가할수록 다음 문제에 직면한다:

- **탐색 비효율**: 수백~수천 개 문서에서 현재 맥락과 관련된 문서를 찾기 위해 전체 디렉토리를 순회해야 한다
- **숨겨진 관계 미발견**: 디렉토리 구조상 멀리 떨어져 있지만 링크로 밀접하게 연결된 문서들의 관계가 드러나지 않는다
- **AI 에이전트의 토큰 낭비**: LLM이 관련 문서를 찾기 위해 다수의 파일을 읽어야 하며, 무관한 문서까지 컨텍스트에 포함된다
- **구조적 맥락 손실**: 개별 문서를 읽을 때 그 문서가 전체 지식 체계에서 차지하는 위치(층위, 연결도, 중요도)를 파악할 수 없다

## 목표

[Markdown Graph Knowledge Discovery Algorithm](../Markdown-Graph-Knowledge-Discovery-Algorithm/INDEX.md) 연구 보고서의 알고리즘을 실용적 Claude Code 플러그인으로 전환하여:

1. 마크다운 저장소의 디렉토리 트리와 링크 그래프를 통합한 **다수준 계층 그래프**를 사전 구축한다
2. **확산 활성화(Spreading Activation)** 모델로 현재 맥락에서 출발하여 관련 문서를 발산적으로 탐색한다
3. 사전 생성된 **메타데이터 캐시**를 통해 AI 에이전트의 토큰 소비를 최소화한다

## 핵심 개념

### 트리-그래프 이중 구조 (Dual Structure)

[연구 제안서](../../Tree-Graph-Hybrid-Knowledge-Architecture-Research-Proposal/02-dual-structure-design.md)에서 정의한 두 가지 구조를 통합한다:

- **디렉토리 트리 (Tree)**: 수렴적/구조적 분류. 지식의 경계를 설정하고 하향식 탐색의 진입점을 제공한다. 정보의 무질서도(Entropy)를 통제한다.
- **내부 링크 (Graph)**: 발산적/연관적 확장. 카테고리를 뛰어넘는 의미론적 관계를 형성한다. 다중 홉 추론(Multi-hop Reasoning)과 발산형 사고의 경로가 된다.

### 원자적 마크다운 문서

대상 저장소의 문서는 다음 제약을 따른다:

- **100줄 이하**: 문서 자체가 청크(chunk) 역할을 하므로 별도의 분할이 불필요하다
- **YAML Frontmatter**: 생성일, 수정일, 태그, Layer 속성 등 기계적 파싱 가능한 메타데이터를 포함한다
- **상대 경로 링크**: 플랫폼 독립적인 이식성(Portability)을 보장한다

### 4개 지식 층위 (Layered Knowledge Model)

| Layer | 이름 | 역할 | 그래프 특성 |
|-------|------|------|------------|
| 1 | 핵심 자아 (Core Identity) | 네트워크의 중심 허브, 최다 인바운드 링크 수신 | Hub 노드 |
| 2 | 파생 지식 (Derived Self) | Layer 1을 구체화, 가장 복잡한 상호 연결 형성 | Dense cluster |
| 3 | 외부 참조 (External) | 필요시에만 참조되는 외곽 노드, 단방향 링크 | Leaf 노드 |
| 4 | 행동 기억 (Action) | 시간 기반, 일시적 활성 노드 | Volatile 노드 |

### 확산적 정보 검색 (Divergent Information Retrieval)

인지 심리학의 연상 네트워크에서 영감을 받은 검색 모델이다. 하나의 시드 노드가 활성화되면, 에너지가 연결된 링크를 타고 주변 노드로 확산된다. 발화 임계값과 감쇠 인자로 탐색 범위를 제어한다.

## 이중 사용자 (Dual Persona)

| Persona | 핵심 가치 | 우선순위 |
|---------|----------|---------|
| **AI 에이전트 (LLM)** | 토큰 절약, 최소 컨텍스트로 최대 맥락 전달 | **Primary** |
| **사람 (연구자/개발자)** | 네비게이션 효율, 관련 문서 빠른 탐색 | Secondary |

AI 에이전트가 Primary persona인 근거:
- 실행 환경이 Claude Code 플러그인이다
- 직접 상호작용하는 것은 AI 에이전트이며, 인간은 에이전트를 통해 간접 사용한다
- 토큰 최적화 출력은 마크다운 포맷팅으로 인간에게도 제공 가능하지만, 그 역은 비용이 높다

## 비범위 (Non-scope)

다음은 본 도구의 설계 범위에 포함되지 않는다:

- 벡터 임베딩 인프라 (별도 임베딩 모델/서버)
- 외부 그래프 DB (Neo4j 등)
- 실시간 협업/다중 사용자 동시 편집
- 마크다운 외 파일 형식(PDF, 이미지 등)의 내용 분석
- 원본 마크다운 파일의 자동 수정 (읽기 전용 도구)

---
created: 2026-02-28
updated: 2026-02-28
tags: [spreading-activation, decay-factor, firing-threshold, hop-analysis]
layer: design-area-2
---

# 확산 활성화 — SA 수식, Layer별 감쇠, configurable 파라미터

## 목적

인지 심리학의 연상 네트워크에서 영감을 받은 검색 모델을 정의한다.
시드 노드에서 에너지가 링크를 타고 주변으로 확산되며, 발화 임계값과 감쇠 인자로
탐색 범위를 제어한다.

관련 문서: [런타임 제약](./00-runtime-constraints.md) | [코어 모듈](./08-core-modules.md) | [설계 결정](./25-design-decisions.md)

---

## 1. 핵심 수식

```
A[j] = sum(A[i] * W[i,j] * d)
```

- `A[i]`: 노드 i의 현재 활성화 값
- `W[i,j]`: 엣지 (i,j)의 가중치 (Wu-Palmer 또는 SCS)
- `d`: 감쇠 인자 (0 < d < 1)
- `A[j]`: 노드 j의 새 활성화 값. 최대 1.0으로 캡핑

---

## 2. 제어 파라미터

| 파라미터 | 역할 | 기본값 | 범위 |
|---------|------|--------|------|
| 발화 임계값 (Firing Threshold) | 활성화 값이 이 값 이상일 때만 확산 | 0.1 | 0.01~0.5 |
| 감쇠 인자 (Decay Factor) | 홉마다 에너지 감소 비율 | 0.7 | 0.1~0.95 |
| 최대 홉 (Max Hops) | 확산 탐색 최대 깊이 | 5 | 1~10 |
| 최대 활성 노드 | 동시 활성 노드 수 제한 | 100 | 10~500 |

---

## 3. Layer별 감쇠 인자

| Layer | 감쇠 인자 | 근거 |
|-------|----------|------|
| Layer 1 (Core) | 0.5 (낮음) | 멀리까지 확산 — 광범위한 영향력 반영 |
| Layer 2 (Derived) | 0.7 (기본) | 표준 확산 범위 |
| Layer 3 (External) | 0.8 (높음) | 외곽 노드는 가까운 이웃만 활성화 |
| Layer 4 (Action) | 0.9 (매우 높음) | 시간적 근접성 — 최소 범위만 |

---

## 4. 홉 수 분석 (런타임 제약 대응)

| 홉 수 | 판정 | 근거 |
|-------|------|------|
| 1-3 | 안전 | SA 감쇠로 자연스러운 범위 제한 |
| 4-5 | 기본 | 대부분의 검색에 충분한 도달 범위 |
| 6+ | 주의 | 노드 수 폭증 가능, 최대 활성 노드 제한으로 대응 |

BFS 2-hop과 달리 SA는 감쇠 인자가 탐색을 자연스럽게 수렴시킨다.
Hook 타임아웃(C1) 내에서도 사전 계산된 가중치로 SA 실행 가능.

---

## 5. 가중치 체계

| 가중치 | 적용 대상 | 계산 방법 |
|--------|----------|----------|
| Wu-Palmer | 트리 엣지 (PARENT_OF, SIBLING) | 디렉토리 LCS 깊이 기준 |
| SCS | 링크 엣지 (LINK) | 경로 수 + 길이 종합 |
| CF | 노드 점수 | Frontmatter 태그 빈도 |
| PageRank | 노드 점수 | 전체 그래프 중요도 |

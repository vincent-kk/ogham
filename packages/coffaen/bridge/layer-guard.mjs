#!/usr/bin/env node
import{existsSync as i}from"node:fs";import{join as s}from"node:path";var l=".coffaen-meta",g=".coffaen",e="01_Core";function u(t){return i(s(t,g))||i(s(t,l))}function a(t){let n=t.replace(/\\/g,"/");return n.includes(`/${e}/`)||n.startsWith(`${e}/`)||n===e}async function c(){let t=[];for await(let n of process.stdin)t.push(n);return Buffer.concat(t).toString("utf-8")}function f(t){process.stdout.write(JSON.stringify(t))}function p(t){let n=t.cwd??process.cwd();if(!u(n))return{continue:!0};let r=t.tool_input?.file_path??t.tool_input?.path??"";return r?a(r)?{continue:!1,reason:["[coffaen] Layer 1 (01_Core/) \uD30C\uC77C\uC740 \uC9C1\uC811 \uC218\uC815\uC774 \uC81C\uD55C\uB429\uB2C8\uB2E4.",`\uD30C\uC77C: ${r}`,"","Layer 1 \uBB38\uC11C\uB294 \uD575\uC2EC \uC815\uCCB4\uC131(Hub \uB178\uB4DC)\uC744 \uB2F4\uC2B5\uB2C8\uB2E4. \uC218\uC815\uC774 \uD544\uC694\uD55C \uACBD\uC6B0:","  1. `/coffaen:identity-guardian` \uC5D0\uC774\uC804\uD2B8\uB97C \uD1B5\uD574 \uC218\uC815 \uC694\uCCAD","  2. \uB610\uB294 \uCDA9\uBD84\uD55C \uC774\uC720\uB97C \uC124\uBA85 \uD6C4 \uC7AC\uC2DC\uB3C4"].join(`
`)}:{continue:!0}:{continue:!0}}var d=await c(),o;try{let t=JSON.parse(d);o=p(t)}catch{o={continue:!0}}f(o);
